<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
    
  工作总结 - 心海
  
  </title>
  
  
  <link href="atom.xml" rel="alternate" title="心海" type="application/atom+xml">
    <link rel="stylesheet" href="asset/css/foundation.min.css" />
    <link rel="stylesheet" href="asset/css/docs.css" />
    <script src="asset/js/vendor/modernizr.js"></script>
    <script src="asset/js/vendor/jquery.js"></script>
  <script src="asset/highlightjs/highlight.pack.js"></script>
  <link href="asset/highlightjs/styles/github.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script>hljs.initHighlightingOnLoad();</script>
<script type="text/javascript">
  function before_search(){
    var searchVal = 'site:github.com/HearOtSea/HearOtSea.github.io.git ' + document.getElementById('search_input').value;
    document.getElementById('search_q').value = searchVal;
    return true;
  }
</script>
  </head>
  <body class="antialiased hide-extras">
    
    <div class="marketing off-canvas-wrap" data-offcanvas>
      <div class="inner-wrap">


<nav class="top-bar docs-bar hide-for-small" data-topbar>


  <section class="top-bar-section">
  <div class="row">
      <div style="position: relative;width:100%;"><div style="position: absolute; width:100%;">
        <ul id="main-menu" class="left">
        
        <li id=""><a target="self" href="index.html">Home</a></li>
        
        <li id=""><a target="_self" href="archives.html">Archives</a></li>
        
        </ul>

        <ul class="right" id="search-wrap">
          <li>
<form target="_blank" onsubmit="return before_search();" action="http://google.com/search" method="get">
    <input type="hidden" id="search_q" name="q" value="" />
    <input tabindex="1" type="search" id="search_input"  placeholder="Search"/>
</form>
</li>
          </ul>
      </div></div>
  </div>
  </section>

</nav>

        <nav class="tab-bar show-for-small">
  <a href="javascript:void(0)" class="left-off-canvas-toggle menu-icon">
    <span> &nbsp; 心海</span>
  </a>
</nav>

<aside class="left-off-canvas-menu">
      <ul class="off-canvas-list">
       
       <li><a href="index.html">HOME</a></li>
    <li><a href="archives.html">Archives</a></li>
    <li><a href="about.html">ABOUT</a></li>

    <li><label>Categories</label></li>

        
            <li><a href="%E5%B7%A5%E4%BD%9C%E6%80%BB%E7%BB%93.html">工作总结</a></li>
        
            <li><a href="%E7%94%9F%E6%B4%BB%E6%80%BB%E7%BB%93.html">生活总结</a></li>
         

      </ul>
    </aside>

<a class="exit-off-canvas" href="#"></a>


        <section id="main-content" role="main" class="scroll-container">
        
       

 <script type="text/javascript">
	$(function(){
		$('#menu_item_index').addClass('is_active');
	});
</script>
<div class="row">
	<div class="large-8 medium-8 columns">
		<div class="markdown-body home-categories">
		
			<div class="article">
                <a class="clearlink" href="15137318956784.html">
                
                  <h1>2017.12.20 - 工作总结</h1>
                  <div class="a-content">
                      
                      <div class="a-content-text">
                        
                        	<h2 id="toc_0">项目中证书到期，如何更新？</h2>

<ul>
<li><a href="http://www.jianshu.com/p/22fe4a78a67d">ios证书，描述文件创建以及证书过期的处理</a></li>
</ul>

<h2 id="toc_1">接入第三方 TrackingIO 热云的问题</h2>

<ul>
<li>使用文档中的方法，然后和后台对接</li>
</ul>

<pre><code>// 初始化热云 SDK
[TrackingIO initWithappKey:@&quot;450a7b4f11f4b97bed0fe81273b6cd06&quot; withChannelId:@&quot;_default_&quot;];
    
// 统计用户注册数据
[TrackingIO setRegisterWithAccountID:@&quot;sys_id&quot;];
    
// 统计用户登陆数据
[TrackingIO setLoginWithAccountID:@&quot;sys_id&quot;];
    
// 测试
[TrackingIO setPrintLog:NO];
</code></pre>

<h2 id="toc_2">iOS 微信支付拉起跳转</h2>

<ul>
<li><p><a href="https://www.cnblogs.com/littleBit/p/5977572.html">iOS版微信开发小结（微信支付，APP跳转微信公众号）</a></p></li>
<li><p><a href="https://www.jianshu.com/p/22a1ceee4d36">iOS微信支付步骤以及出现的问题总结（一）</a> </p></li>
<li><p><a href="http://www.jianshu.com/p/379c9fc64fe1">iOS微信支付步骤以及出现的问题总结（二）</a></p></li>
<li><p><a href="https://www.jianshu.com/p/1aade8e6495b">iOS微信支付步骤以及出现的问题总结（三）</a></p></li>
</ul>

<h2 id="toc_3">iOS WKWebview 使用集锦</h2>

<ul>
<li><p><a href="http://www.jianshu.com/p/3725782865a2">iOS WKWebview 使用集锦</a></p></li>
<li><p>iOS WKWebView 禁止滑动方法</p></li>
</ul>

<pre><code>// 自适应宽度
_webView.autoresizingMask = UIViewAutoresizingFlexibleWidth;

// 自适应高度
_webView.autoresizingMask = UIViewAutoresizingFlexibleHeight;

// 禁止滚动
UIScrollView *tempView = (UIScrollView *)[self.webView.subviews objectAtIndex:0];
tempView.scrollEnabled = NO;
</code></pre>

<h2 id="toc_4">iOS 如何往当前工程再添加一个工程</h2>

<ul>
<li><a href="http://blog.csdn.net/kurrygo/article/details/54380517">iOS如何往当前工程再添加一个工程</a></li>
</ul>

                        
                      </div>
                  </div>
                </a>
                <div class="read-more clearfix">
                  <div class="more-left left">
                  
                    <span class="date">2017/12/20</span>
                    <span>posted in&nbsp;</span> 
          				  
          					    <span class="posted-in"><a href='%E5%B7%A5%E4%BD%9C%E6%80%BB%E7%BB%93.html'>工作总结</a></span>
          				   
                  </div>
                  <div class="more-right right">
                  <span class="comments">
                      

                       
                  </span>
                  </div>
                </div>
              </div><!-- article -->
        
			<div class="article">
                <a class="clearlink" href="15136543191124.html">
                
                  <h1>2017.12.19 - 工作总结</h1>
                  <div class="a-content">
                      
                      <div class="a-content-text">
                        
                        	<h2 id="toc_0">iOS 审核被拒的问题</h2>

<pre><code>2. 3 Performance: Accurate Metadata
5. 1.1 Legal: Privacy - Data Collection and Storage
Guideline 2.3 - Performance - Accurate Metadata


We noticed that your app&#39;s metadata includes the following information, which is not relevant to the app&#39;s content and functionality:

游戏礼包助手
手游助手软件

Next Steps

To resolve this issue, please revise or remove this content from your app&#39;s metadata. For resources on metadata best practices, you may want to review the App Store Product Page information available on the Apple developer portal.

Since your iTunes Connect status is Rejected, a new binary will be required. Make the desired metadata changes when you upload the new binary.


Guideline 5.1.1 - Legal - Privacy - Data Collection and Storage


We noticed that your app requires users to register with personal information to access non account-based features. Apps cannot require user registration prior to allowing access to app content and features that are not associated specifically to the user.

Please see attached screenshots for details.

Next Steps

User registration that requires the sharing of personal information must be optional or tied to account-specific functionality. Additionally, the requested information must be relevant to the features.

Request a phone call from App Review

At your request, we can arrange for an Apple Representative to call you within the next three to five business days to discuss your App Review issue. Our representative will be able to discuss the issue in English or Chinese.

To request a call and ensure we have accurate contact information, reply directly to this message with a contact name and direct phone number to reach you.

申请应用审核团队致电联系

如果您有需要，我们将根据您的要求在三到五个工作日内安排一位精通中文的苹果公司代表致电与您联系，讨论您的应用审核结果。
为了确保我们有正确的联系资料，请回复这封邮件并提供您的姓名与电话号码。
</code></pre>

<p>这上面的内容大致分为以下两个问题：</p>

<ol>
<li>关键词的问题</li>
<li>APP 有收集用户隐私的嫌疑</li>
</ol>

<h2 id="toc_1">iOS 热更新</h2>

<ul>
<li>苹果最近是禁止 React-Native，所以 iOS 开发算是回潮了</li>
</ul>

<h2 id="toc_2">iOS 打包发布</h2>

<ul>
<li>有两个证书

<ul>
<li>1. Dev - 开发者上架证书</li>
<li>2. Hoc - 测试证书</li>
</ul></li>
</ul>

<h2 id="toc_3">师父教导</h2>

<pre><code># 无论你要用到什么技术，首先要做的就是打好基础
</code></pre>

                        
                      </div>
                  </div>
                </a>
                <div class="read-more clearfix">
                  <div class="more-left left">
                  
                    <span class="date">2017/12/19</span>
                    <span>posted in&nbsp;</span> 
          				  
          					    <span class="posted-in"><a href='%E5%B7%A5%E4%BD%9C%E6%80%BB%E7%BB%93.html'>工作总结</a></span>
          				   
                  </div>
                  <div class="more-right right">
                  <span class="comments">
                      

                       
                  </span>
                  </div>
                </div>
              </div><!-- article -->
        
			<div class="article">
                <a class="clearlink" href="15135595507891.html">
                
                  <h1>2017.12.18 工作总结</h1>
                  <div class="a-content">
                      
                      <div class="a-content-text">
                        
                        	<h2 id="toc_0">call External Interface -（调用外部接口）</h2>

<p>白鹭引擎之 JS 和 OC 原生通讯</p>

<h3 id="toc_1">WebView 模式 Objective-C 调用 JS 方法</h3>

<p><strong>在 JS 中定义全局的回调函数</strong></p>

<pre><code>window.callJS = function(msg) {
  console.log(msg);  
};
</code></pre>

<p><strong>在 Objective-C 中调用全局的回调函数</strong></p>

<pre><code>- (void)callExternalInterface:(NSString*)funcName Value:(NSString*)value;
</code></pre>

<p>其中，funcName表示调用函数名字的字符串和value是传递给被调用函数的参数字符串。经过上面两步，就实现了在Objective-C调用JS函数。调用前面注册的callJS函数的示例代码如下：</p>

<pre><code>[super.launcher callExternalInterface:@&quot;callJS&quot; Value:@&quot;message from native&quot;];
</code></pre>

<p>其中，launcher变量仍然来自于NativeViewController类。</p>

<h2 id="toc_2">熟悉的 WebStrom</h2>

<p><img src="media/15135595507891/15135844957653.jpg" alt=""/></p>

<p>出现这种原因是因为需要手动下载一次 Node.js 然后自行安装过后再输入命令行</p>

<ul>
<li> <code>npm install -g react-native-cli</code>
<img src="media/15135595507891/15135845836525.jpg" alt=""/></li>
</ul>

<h2 id="toc_3">Egret - iOS - Support</h2>

<h3 id="toc_4">打包 iOS app</h3>

<p>egret-ios-support是Egret打包为原生ios APP的方案，使用egret-ios-support 可以将HTML5游戏打包为ipa文件，并提供给用户安装。</p>

<p>本文会完整的展示如何在一个已经安装npm管理包的环境中全新安装Egret核心包、Egret的iOS支持包，最终在模拟机中运行Demo的过程。</p>

<p>本文主要包含三部分：第一部分为iOS开发环境的安装、第二部分为Egret游戏框架的安装、第三部分创建一个完整iOS App的示例。</p>

<h4 id="toc_5">1. 预备知识</h4>

<p>为了顺利完成本教程，请确认您已熟练掌握以下知识：</p>

<ul>
<li><p>为了顺利完成本教程，请确认您已熟练掌握以下知识：</p></li>
<li><p>了解终端、命令行、Shell其中之一，会启动她，并能通过命令行执行的方式完成上一条的相关操作</p></li>
<li><p>了解如何下载文件并解压缩文件</p></li>
<li><p>了解以下术语：</p>

<ul>
<li><p>编写游戏逻辑需要：JavaScript、TypeScript、nodejs、npm</p></li>
<li><p>打包iOS App需要：Objective-C、C++、Xcode</p></li>
</ul></li>
</ul>

<h4 id="toc_6">2. iOS 开发环境安装</h4>

<p><strong>安装iOS开发环境——Xcode</strong><br/>
<img src="media/15135595507891/15135901684976.jpg" alt=""/></p>

<h4 id="toc_7">3. 安装 Egret 游戏框架</h4>

<p><strong>预备知识</strong><br/>
打开终端，cd 到桌面，创建一个你要为之打包的目录 </p>

<p><mark><code>mkdir HTML_iOS_Project</code></mark> 如下图：</p>

<p><img src="media/15135595507891/15135903658963.jpg" alt=""/></p>

                        
                      </div>
                  </div>
                </a>
                <div class="read-more clearfix">
                  <div class="more-left left">
                  
                    <span class="date">2017/12/18</span>
                    <span>posted in&nbsp;</span> 
          				  
          					    <span class="posted-in"><a href='%E5%B7%A5%E4%BD%9C%E6%80%BB%E7%BB%93.html'>工作总结</a></span>
          				   
                  </div>
                  <div class="more-right right">
                  <span class="comments">
                      

                       
                  </span>
                  </div>
                </div>
              </div><!-- article -->
        
			<div class="article">
                <a class="clearlink" href="15133067645528.html">
                
                  <h1>2017.12.15 - 工作总结</h1>
                  <div class="a-content">
                      
                      <div class="a-content-text">
                        
                        	<h2 id="toc_0">问题出在后台</h2>

<ul>
<li>找了一天的 BUG 结果发现后台传参有问题</li>
</ul>

                        
                      </div>
                  </div>
                </a>
                <div class="read-more clearfix">
                  <div class="more-left left">
                  
                    <span class="date">2017/12/15</span>
                    <span>posted in&nbsp;</span> 
          				  
          					    <span class="posted-in"><a href='%E5%B7%A5%E4%BD%9C%E6%80%BB%E7%BB%93.html'>工作总结</a></span>
          				   
                  </div>
                  <div class="more-right right">
                  <span class="comments">
                      

                       
                  </span>
                  </div>
                </div>
              </div><!-- article -->
        
			<div class="article">
                <a class="clearlink" href="15132133340050.html">
                
                  <h1>2017.12.14 - 工作总结</h1>
                  <div class="a-content">
                      
                      <div class="a-content-text">
                        
                        	<h2 id="toc_0">字符串拼接</h2>

<ul>
<li>方法一：</li>
</ul>

<pre><code>- 错误的写法：string = [NSString initWithFormat:@&quot;%@,%@&quot;, string1, string2 ];

- 正确的写法：string = [[NSString alloc] initWithFormat:@&quot;%@,%@&quot;, string1, string2 ];

- 还有一种方法：NSString *string = [NSString stringWithFormat: @&quot;%@%@&quot;, string1, string2];
</code></pre>

<ul>
<li>方法二：</li>
</ul>

<pre><code>string = [string1 stringByAppendingString:string2];
</code></pre>

<ul>
<li>方法三：</li>
</ul>

<pre><code>string = [string stringByAppendingFormat:@&quot;%@,%@&quot;,string1, string2];
</code></pre>

<h2 id="toc_1">IDFA 的获取方法</h2>

<ul>
<li><p>之前用的是 IDFV</p></li>
<li><p>IDFA</p></li>
</ul>

<pre><code>NSString *idfa = [[[ASIdentifierManager sharedManager] advertisingIdentifier] UUIDString];
</code></pre>

<h2 id="toc_2">与后台的联调</h2>

<ul>
<li>首先是方法名的定义 &quot;jionGroup&quot;、&quot;UserRA&quot; 等</li>
<li>其次在需要交互的地方写好,调用方法就 OK</li>
</ul>

<pre><code>#pragma mark - 在发送请求之前，决定是否跳转
- (void)webView:(WKWebView *)webView decidePolicyForNavigationAction:(WKNavigationAction *)navigationAction decisionHandler:(void (^)(WKNavigationActionPolicy))decisionHandler 

- else if ([requestStr rangeOfString:@&quot;AddGroup&quot;].location != NSNotFound) // 这里写 AddGroup 的方法

- else if ([requestStr rangeOfString:@&quot;UserRA&quot;].location != NSNotFound) // 这里写 UserRA 的方法
</code></pre>

<h2 id="toc_3">调试</h2>

<ul>
<li>断点是最常见的</li>
<li>断点停止地方如果想打印数据</li>
<li>LLDB 调试</li>
</ul>

<pre><code>控制台 po requestStr
</code></pre>

<p><img src="media/15132133340050/15133022973723.jpg" alt=""/></p>

                        
                      </div>
                  </div>
                </a>
                <div class="read-more clearfix">
                  <div class="more-left left">
                  
                    <span class="date">2017/12/14</span>
                    <span>posted in&nbsp;</span> 
          				  
          					    <span class="posted-in"><a href='%E5%B7%A5%E4%BD%9C%E6%80%BB%E7%BB%93.html'>工作总结</a></span>
          				   
                  </div>
                  <div class="more-right right">
                  <span class="comments">
                      

                       
                  </span>
                  </div>
                </div>
              </div><!-- article -->
        
			<div class="article">
                <a class="clearlink" href="15131274964537.html">
                
                  <h1>2017.12.13 - 工作总结</h1>
                  <div class="a-content">
                      
                      <div class="a-content-text">
                        
                        	<h2 id="toc_0">真机调试问题：</h2>

<pre><code>Your maximum App ID limit has been reached. 
You may create up to 10 App IDs every 7 days.
</code></pre>

<ul>
<li><p>1.出现这种情况,直接用上一次的 Bundle ID 就行了,因为免费 App ID 账号苹果官方有所限制</p></li>
<li><p>2.这个时候你不管怎么改变 Bundle ID 都没有用,直接更换以前调试过的 Bundle ID ,就可以搞定了,建议每创建 Bundle ID 就记录一下,当出现这种问题的时候直接更换就可以了</p>

<h2 id="toc_1">唯一标识符</h2></li>
<li><p><a href="https://www.cnblogs.com/zxykit/p/5320259.html">iOS获取设备唯一标识的各种方法？IDFA、IDFV、UDID分别是什么含义？</a></p></li>
<li><p>目前在项目中使用的比较多的也就数 IDFV 了,其他的几个基本都被苹果淘汰了.<br/>
同时关于 UUID ,因为保证对在同一时空中的所有机器都是唯一的,所以在程序安装的时候生成唯一的 UUID 并且保存在 keychain 中,以这个唯一的 UUID 作为唯一标识符,就可以用于判断唯一设备.变相的作为 UDID 的用法</p></li>
<li><p><a href="http://www.jianshu.com/p/b810d7e007ad">iOS-理解 : UDID、UUID、IDFA、IDFV</a></p>

<h2 id="toc_2">XIB 报错</h2>

<pre><code>error: Illegal Configuration: Compiling IB documents for earlier than iOS 7 is no longer supported.
</code></pre></li>
<li><p>修改最低版本    </p>

<p><img src="media/15131274964537/15131458873021.jpg" alt=""/></p></li>
</ul>

<h2 id="toc_3">WKWebView 问题</h2>

<pre><code>   NSString *strRequest = [navigationAction.request.URL.absoluteString stringByReplacingPercentEscapesUsingEncoding:NSUTF8StringEncoding];
    if([strRequest isEqualToString:@&quot;about:blank&quot;]) {//主页面加载内容
        decisionHandler(WKNavigationActionPolicyAllow);//允许跳转
    } 
    else {//截获页面里面的链接点击
        //do something you want
        decisionHandler(WKNavigationActionPolicyCancel);//不允许跳转
    }
</code></pre>

                        
                      </div>
                  </div>
                </a>
                <div class="read-more clearfix">
                  <div class="more-left left">
                  
                    <span class="date">2017/12/13</span>
                    <span>posted in&nbsp;</span> 
          				  
          					    <span class="posted-in"><a href='%E5%B7%A5%E4%BD%9C%E6%80%BB%E7%BB%93.html'>工作总结</a></span>
          				   
                  </div>
                  <div class="more-right right">
                  <span class="comments">
                      

                       
                  </span>
                  </div>
                </div>
              </div><!-- article -->
        
              


			<div class="row">
			  <div class="large-6 columns">
			  <p class="text-left" style="padding-top:25px;">
			   <a href="工作总结_4.html">&laquo; Prev Page</a>  
			  </p>
			  </div>
			  <div class="large-6 columns">
			<p class="text-right" style="padding-top:25px;">
			 <a href="工作总结_6.html">&raquo; Next Page</a> 
			</p>
			  </div>
			</div>
		</div>
	</div><!-- large 8 -->

 <div class="large-4 medium-4 columns">
  <div class="hide-for-small">
    <div id="sidebar" class="sidebar">
          <div id="site-info" class="site-info">
            
                <h1>心海</h1>
                <div class="site-des">iOS 攻城狮、斗鱼吃鸡主播</div>
                <div class="social">







<a target="_blank" class="weibo" href="https://weibo.com/HearOtSea" title="weibo">Weibo</a>
<a target="_blank" class="twitter" target="_blank" href="www.xiaoxinhai.com" title="Twitter">Twitter</a>
<a target="_blank" class="github" target="_blank" href="https://github.com/JiaZhiH" title="GitHub">GitHub</a>
<a target="_blank" class="email" href="mailto:532289567@qq.com" title="Email">Email</a>
  <a target="_blank" class="rss" href="atom.xml" title="RSS">RSS</a>
                
              	 </div>
          	</div>

             

              <div id="site-categories" class="side-item ">
                <div class="side-header">
                  <h2>Categories</h2>
                </div>
                <div class="side-content">

      	<p class="cat-list">
        
            <a href="%E5%B7%A5%E4%BD%9C%E6%80%BB%E7%BB%93.html"><strong>工作总结</strong></a>
        
            <a href="%E7%94%9F%E6%B4%BB%E6%80%BB%E7%BB%93.html"><strong>生活总结</strong></a>
         
        </p>


                </div>
              </div>

              <div id="site-categories" class="side-item">
                <div class="side-header">
                  <h2>Recent Posts</h2>
                </div>
                <div class="side-content">
                <ul class="posts-list">
	      
		      
			      <li class="post">
			        <a href="15193489395143.html">2018-02-23-内购</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="15184172518005.html">2018-02-12-狗年吉祥</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="15184166364607.html">2018-02-12-项目中会用到的知识</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="15181600421700.html">2018-02-09-C 语言总结</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="15181482163531.html">2018-02-09-知识小集</a>
			      </li>
		     
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		   
		  		</ul>
                </div>
              </div>
        </div><!-- sidebar -->
      </div><!-- hide for small -->
</div><!-- large 4 -->

</div><!-- row -->

 <div class="page-bottom clearfix">
  <div class="row">
   <p class="copyright">Copyright &copy; 2015
Powered by <a target="_blank" href="http://www.mweb.im">MWeb</a>,&nbsp; 
Theme used <a target="_blank" href="http://github.com">GitHub CSS</a>.</p>
  </div>
</div>

        </section>
      </div>
    </div>

  
    

    <script src="asset/js/foundation.min.js"></script>
    <script>
      $(document).foundation();
      function fixSidebarHeight(){
        var w1 = $('.markdown-body').height();
          var w2 = $('#sidebar').height();
          if (w1 > w2) { $('#sidebar').height(w1); };
      }
      $(function(){
        fixSidebarHeight();
      })
      $(window).load(function(){
          fixSidebarHeight();
      });
     
    </script>

    



  </body>
</html>
